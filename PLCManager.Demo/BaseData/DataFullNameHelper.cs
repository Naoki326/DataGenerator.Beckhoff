using System;using System.Collections.Generic;using System.Linq;using System.Text;namespace PlcCore.Data{    public static class DataFullNameHelper    {        private static IEnumerable<string> GetFullNameIter(IBaseData data, bool isEnd = true)        {            string endDot = isEnd ? "" : ".";            if (string.IsNullOrEmpty(data.Name))            {                yield break;            }            else if (data.Name.StartsWith("Item_"))            {                if (data.Parent is not null)                {                    foreach (var s in GetFullNameIter(data.Parent, true))                    {                        yield return s;                    }                }                yield return $"[{data.Name.Substring(5, data.Name.Length - 5)}]" + endDot;            }            else            {                if (data.Parent is not null)                {                    foreach (var s in GetFullNameIter(data.Parent, false))                    {                        yield return s;                    }                }                yield return data.Name + endDot;            }        }        public static string GetFullName(this IBaseData data)        {            return GetFullNameIter(data).Aggregate("", (p, q) => p += q);        }    }}